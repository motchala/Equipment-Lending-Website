<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student EquipLend</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: white; color: #333; }
        header { background-color: #800000; color: white; padding: 1rem; text-align: center; }
        nav { display: flex; justify-content: center; background-color: #f8f8f8; padding: 0.5rem; }
        nav a { margin: 0 1rem; text-decoration: none; color: #800000; font-weight: bold; }
        .hero { text-align: center; padding: 2rem; background-color: white; }
        .catalog { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; padding: 2rem; }
        .item { border: 1px solid #ddd; padding: 1rem; background-color: white; text-align: center; border-radius: 5px; }
        .item img { max-width: 100%; height: 150px; object-fit: cover; }
        .item button { padding: 0.5rem; background-color: #800000; color: white; border: none; cursor: pointer; margin-top: 0.5rem; }
        .item button:disabled { background-color: #ccc; cursor: not-allowed; }
        footer { background-color: #800000; color: white; text-align: center; padding: 1rem; }
        #user-status { text-align: center; padding: 0.5rem; background-color: #f8f8f8; display: none; }
    </style>
</head>
<body>
    <header>
        <h1>EquipLend: Borrow Student Gear</h1>
    </header>
    <nav>
        <a href="#catalog">Browse Equipment</a>
        <a href="login.html" id="auth-link">Login/Register</a>
        <a href="#contact">Contact</a>
        <a href="#admin">Admin Dashboard</a>
    </nav>
    <div id="user-status">
        <p>Welcome, <span id="user-name"></span>! <a href="#" onclick="logout()">Logout</a></p>
    </div>
    <section class="hero">
        <h2>Find and Borrow Equipment Easily</h2>
        <input type="text" id="search" placeholder="Search for laptops, projectors, etc." style="padding: 0.5rem; width: 50%;" onkeyup="filterItems()">
        <button onclick="filterItems()" style="padding: 0.5rem; background-color: #800000; color: white; border: none;">Search</button>
    </section>
    <section id="catalog" class="catalog">
        <div class="item" data-name="laptop">
            <img src="https://via.placeholder.com/250x150?text=Laptop" alt="Laptop">
            <h3>Laptop</h3>
            <p>Available: Yes | Due: 7 days</p>
            <button onclick="requestItem('Laptop')">Request to Borrow</button>
        </div>
        <div class="item" data-name="projector">
            <img src="https://via.placeholder.com/250x150?text=Projector" alt="Projector">
            <h3>Projector</h3>
            <p>Available: No | Due: 3 days</p>
            <button disabled onclick="waitlistItem('Projector')">Join Waitlist</button>
        </div>
        <div class="item" data-name="microscope">
            <img src="https://via.placeholder.com/250x150?text=Microscope" alt="Microscope">
            <h3>Microscope</h3>
            <p>Available: Yes | Due: 5 days</p>
            <button onclick="requestItem('Microscope')">Request to Borrow</button>
        </div>
        <!-- Add more items here with data-name attributes -->
    </section>
    <footer>
        <p>&copy; 2026 EquipLend. Contact: admin@equiplend.edu</p>
    </footer>

    <script>
        let isLoggedIn = false;
        let currentUser = null;

        // Check login on page load
        window.onload = function() {
            const storedUser = localStorage.getItem('currentUser');
            if (storedUser) {
                currentUser = JSON.parse(storedUser);
                isLoggedIn = true;
                updateUI();
            }
        };

        function updateUI() {
            const status = document.getElementById('user-status');
            const authLink = document.getElementById('auth-link');
            if (isLoggedIn) {
                status.style.display = 'block';
                document.getElementById('user-name').textContent = currentUser.name;
                authLink.textContent = 'Account'; // Change link text
                authLink.href = '#'; // Or link to profile page
            } else {
                status.style.display = 'none';
                authLink.textContent = 'Login/Register';
                authLink.href = 'login.html';
            }
        }

        function logout() {
            isLoggedIn = false;
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateUI();
        }

        function filterItems() {
            const query = document.getElementById('search').value.toLowerCase();
            const items = document.querySelectorAll('.item');
            items.forEach(item => {
                const name = item.getAttribute('data-name').toLowerCase();
                if (name.includes(query)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function requestItem(itemName) {
            if (!isLoggedIn) {
                window.location.href = 'login.html'; // Redirect to login
                return;
            }
            alert(`Request submitted for ${itemName} by ${currentUser.name}. Confirmation email sent!`);
            // In a real app, send to backend
        }

        function waitlistItem(itemName) {
            if (!isLoggedIn) {
                window.location.href = 'login.html'; // Redirect to login
                return;
            }
            alert(`Added to waitlist for ${itemName} by ${currentUser.name}.`);
        }
    </script>
</body>
</html>